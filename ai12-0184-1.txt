!standard D.4(16)                                  16-03-23  AI12-0184-1/01
!class Amendment 16-03-23
!status work item 16-03-23
!status received 15-04-24
!priority Low Low
!difficulty Easy Easy
!subject Long Long C Data Types
!summary

** TBD.

!problem

The C99 standard defines some additional standard types:

long long
long long int
signed long long
signed long long int

   Long long signed integer type. Capable of containing at least
   the [-9223372036854775807, +9223372036854775807] range; thus, it is at
   least 64 bits in size.

unsigned long long
unsigned long long int

   Similar to long long, but unsigned. Specified since the C99 version of the
   standard.

!proposal

** TBD.

!wording

** TBD.

!discussion

We already have Wide_Wide_ types, so there can't be any problem with
Long_Long_ types. It would be cool if we had a type that was both:
Wide_Wide_Long_Long_Int. ;-)

Seriously, we have to be careful here. If we just dumped these types into
Interfaces.C, we're implicitly requiring all Ada compilers to support 64-bit
types. That's inappropriate on embedded hardware without 64-bit support
(especially so on 8-bit and 16-bit targets - even though Ada is not much used
on such targets it would be silly to prevent it).

The author does not know what the C99 Standard has to say about implementations
that do not support 64-bit types (one would expect that there is some rule
about that), and something similar will need to be added to Interfaces.C.
(All of the other C types seem to exist on all targets, with a range that
makes sense for that target.)

!ASIS

?? How are aspects handled??

!ACATS test

An ACATS C-Test is needed to check that the new capabilities are supported.

!appendix

!topic some missing long long C data types
!reference Ada 2012 RM B.3 Interfacing with C and C++
!from Pascal Pignard 15-12-21
!keywords C type
!discussion

From https://en.wikipedia.org/wiki/C_data_types:

long long
long long int
signed long long
signed long long int
Long long signed integer type. Capable of containing at least
the [-9223372036854775807, +9223372036854775807] range; thus, it is at least
64 bits in size. Specified since the C99 version of the standard.

unsigned long long
unsigned long long int
Similar to long long, but unsigned. Specified since the C99 version of the
standard.

These new types coming with C99 are missing in the library package
Interfaces.C (annex B3).

****************************************************************

